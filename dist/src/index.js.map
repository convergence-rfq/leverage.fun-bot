{"version":3,"sources":["../../src/index.ts"],"sourcesContent":["import mongoose from 'mongoose';\nimport express from 'express';\nimport cors from 'cors';\nimport Config from './config.js';\nimport router from './routes/mintOptions.route.js';\nimport healthRouter from './routes/health.route.js';\nimport Honeybadger from '@honeybadger-io/js';\n\nconst app = express();\n\nHoneybadger.configure({\n  apiKey: Config.HONEYBADGER_API_KEY,\n  environment: 'production',\n});\n\napp.use(\n  cors({\n    origin: '*',\n    methods: ['GET', 'POST'],\n    allowedHeaders: ['*'],\n  }),\n);\napp.use(express.json());\napp.use(Honeybadger.errorHandler);\n\ntry {\n  await mongoose.connect(`${Config.MONGO_URI}`);\n  console.log('Connected to mongoose');\n  console.log(`Admin Public Key: ${Config.ADMIN_KEYPAIR.publicKey.toBase58()}`);\n  app.listen(Config.PORT, () =>\n    console.log(`Server running on port ${Config.PORT}`),\n  );\n  app.use((req, res, next) => {\n    console.log(\n      `[${new Date().toISOString()}] ${req.method} ${req.originalUrl} ${res.statusCode} ${req.ip}`,\n    );\n    next();\n  });\n  app.use('/mint-options', router);\n  app.use('/health', healthRouter);\n} catch (error) {\n  console.error('Error connecting to database: ', error);\n} finally {\n  console.log('Finally');\n}\n"],"names":["mongoose","express","cors","Config","router","healthRouter","Honeybadger","app","configure","apiKey","HONEYBADGER_API_KEY","environment","use","origin","methods","allowedHeaders","json","errorHandler","connect","MONGO_URI","console","log","ADMIN_KEYPAIR","publicKey","toBase58","listen","PORT","req","res","next","Date","toISOString","method","originalUrl","statusCode","ip","error"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"AAAA,OAAOA,cAAc,WAAW;AAChC,OAAOC,aAAa,UAAU;AAC9B,OAAOC,UAAU,OAAO;AACxB,OAAOC,YAAY,cAAc;AACjC,OAAOC,YAAY,gCAAgC;AACnD,OAAOC,kBAAkB,2BAA2B;AACpD,OAAOC,iBAAiB,qBAAqB;AAE7C,MAAMC,MAAMN;AAEZK,YAAYE,SAAS,CAAC;IACpBC,QAAQN,OAAOO,mBAAmB;IAClCC,aAAa;AACf;AAEAJ,IAAIK,GAAG,CACLV,KAAK;IACHW,QAAQ;IACRC,SAAS;QAAC;QAAO;KAAO;IACxBC,gBAAgB;QAAC;KAAI;AACvB;AAEFR,IAAIK,GAAG,CAACX,QAAQe,IAAI;AACpBT,IAAIK,GAAG,CAACN,YAAYW,YAAY;AAEhC,IAAI;IACF,MAAMjB,SAASkB,OAAO,CAAC,CAAC,EAAEf,OAAOgB,SAAS,CAAC,CAAC;IAC5CC,QAAQC,GAAG,CAAC;IACZD,QAAQC,GAAG,CAAC,CAAC,kBAAkB,EAAElB,OAAOmB,aAAa,CAACC,SAAS,CAACC,QAAQ,GAAG,CAAC;IAC5EjB,IAAIkB,MAAM,CAACtB,OAAOuB,IAAI,EAAE,IACtBN,QAAQC,GAAG,CAAC,CAAC,uBAAuB,EAAElB,OAAOuB,IAAI,CAAC,CAAC;IAErDnB,IAAIK,GAAG,CAAC,CAACe,KAAKC,KAAKC;QACjBT,QAAQC,GAAG,CACT,CAAC,CAAC,EAAE,IAAIS,OAAOC,WAAW,GAAG,EAAE,EAAEJ,IAAIK,MAAM,CAAC,CAAC,EAAEL,IAAIM,WAAW,CAAC,CAAC,EAAEL,IAAIM,UAAU,CAAC,CAAC,EAAEP,IAAIQ,EAAE,CAAC,CAAC;QAE9FN;IACF;IACAtB,IAAIK,GAAG,CAAC,iBAAiBR;IACzBG,IAAIK,GAAG,CAAC,WAAWP;AACrB,EAAE,OAAO+B,OAAO;IACdhB,QAAQgB,KAAK,CAAC,kCAAkCA;AAClD,SAAU;IACRhB,QAAQC,GAAG,CAAC;AACd"}